<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security - Tyxar</title>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
</head>
<body>
    <div id="header-placeholder"></div>

    <!-- Sidebar will be loaded here -->
    <div id="sidebar"></div>

    <!-- Main Content -->
    <div class="dashboard-content-wrapper">
            <div class="dashboard-header">
                <h1>Security</h1>
                <p class="dashboard-subtitle">Manage your account security and authentication methods</p>
            </div>

            <div class="security-grid">
                <div class="security-section">
                    <h2>Password & Authentication</h2>
                    <div class="security-group">
                        <div class="security-item">
                            <div class="security-info">
                                <h3>Password</h3>
                                <p>Last changed: <span id="password-last-changed">Never</span></p>
                            </div>
                            <button class="btn-secondary" id="change-password">Change Password</button>
                        </div>

                        <div class="security-item">
                            <div class="security-info">
                                <h3>Two-Factor Authentication</h3>
                                <p>Add an extra layer of security to your account</p>
                            </div>
                            <div class="security-status">
                                <span class="status-badge status-disabled">Disabled</span>
                                <button class="btn-primary" id="enable-2fa">Enable 2FA</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="security-section">
                    <h2>Connected Accounts</h2>
                    <div class="security-group">
                        <div class="connected-account">
                            <div class="account-info">
                                <div class="account-icon github-icon">üêô</div>
                                <div>
                                    <h4>GitHub</h4>
                                    <p>Connected for authentication</p>
                                </div>
                            </div>
                            <span class="status-badge status-active">Active</span>
                        </div>

                        <div class="connected-account">
                            <div class="account-info">
                                <div class="account-icon google-icon">üîç</div>
                                <div>
                                    <h4>Google</h4>
                                    <p>Not connected</p>
                                </div>
                            </div>
                            <button class="btn-outline" id="connect-google">Connect</button>
                        </div>
                    </div>
                </div>

                <div class="security-section">
                    <h2>Active Sessions</h2>
                    <div class="security-group">
                        <div class="session-item current-session">
                            <div class="session-info">
                                <h4>Current Session</h4>
                                <p>Chrome on Windows ‚Ä¢ <span id="current-location">Unknown Location</span></p>
                                <small>Started: <span id="session-start">Just now</span></small>
                            </div>
                            <span class="current-badge">Current</span>
                        </div>

                        <div class="session-item">
                            <div class="session-info">
                                <h4>Mobile App</h4>
                                <p>iPhone ‚Ä¢ New York, US</p>
                                <small>Last active: 2 hours ago</small>
                            </div>
                            <button class="btn-danger btn-small" onclick="revokeSession(this)">Revoke</button>
                        </div>

                        <div class="session-item">
                            <div class="session-info">
                                <h4>Desktop App</h4>
                                <p>macOS ‚Ä¢ San Francisco, US</p>
                                <small>Last active: 1 day ago</small>
                            </div>
                            <button class="btn-danger btn-small" onclick="revokeSession(this)">Revoke</button>
                        </div>
                    </div>
                </div>

                <div class="security-section">
                    <h2>Security Log</h2>
                    <div class="security-log">
                        <div class="log-entry">
                            <div class="log-icon">üîê</div>
                            <div class="log-details">
                                <p>Password changed</p>
                                <small>2 days ago ‚Ä¢ Chrome on Windows</small>
                            </div>
                        </div>

                        <div class="log-entry">
                            <div class="log-icon">üì±</div>
                            <div class="log-details">
                                <p>New device signed in</p>
                                <small>3 days ago ‚Ä¢ iPhone</small>
                            </div>
                        </div>

                        <div class="log-entry">
                            <div class="log-icon">üö™</div>
                            <div class="log-details">
                                <p>Account signed out</p>
                                <small>1 week ago ‚Ä¢ All devices</small>
                            </div>
                        </div>

                        <div class="log-entry">
                            <div class="log-icon">üîë</div>
                            <div class="log-details">
                                <p>Recovery key generated</p>
                                <small>2 weeks ago ‚Ä¢ Chrome on Windows</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="security-section danger-zone">
                    <h2>Danger Zone</h2>
                    <div class="security-group">
                        <div class="danger-item">
                            <div class="danger-info">
                                <h3>Delete Account</h3>
                                <p>Permanently delete your account and all associated data. This action cannot be undone.</p>
                            </div>
                            <button class="btn-danger" id="delete-account">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <div id="footer-placeholder"></div>

    <!-- Change Password Modal -->
    <div id="password-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Change Password</h3>
                <button class="modal-close" onclick="closeModal('password-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="password-form">
                    <div class="form-group">
                        <label for="current-password">Current Password</label>
                        <input type="password" id="current-password" required>
                    </div>
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" required>
                        <small class="password-hint">Must be at least 8 characters long</small>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm New Password</label>
                        <input type="password" id="confirm-password" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('password-modal')">Cancel</button>
                <button class="btn-primary" id="save-password">Change Password</button>
            </div>
        </div>
    </div>

    <!-- 2FA Setup Modal -->
    <div id="2fa-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Enable Two-Factor Authentication</h3>
                <button class="modal-close" onclick="closeModal('2fa-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="2fa-setup">
                    <p>Scan this QR code with your authenticator app:</p>
                    <div class="qr-placeholder">
                        <div class="qr-code">üì± QR Code Here üì±</div>
                    </div>
                    <p class="qr-text">Or enter this code manually: <code id="2fa-code">1234 5678 9012</code></p>
                    <div class="form-group">
                        <label for="2fa-input">Enter the 6-digit code from your app:</label>
                        <input type="text" id="2fa-input" maxlength="6" placeholder="000000">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('2fa-modal')">Cancel</button>
                <button class="btn-primary" id="verify-2fa">Enable 2FA</button>
            </div>
        </div>
    </div>

    <script src="../../script.js"></script>
    <script src="../../script.js"></script>
    <script src="../profile.js"></script>
</body>
</html>